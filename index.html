<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
		<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
		<title>Status Verifikasi Data</title>
		<style>
			body {
				background-color: #e3ece1;
				font-family: "Arial", sans-serif;
				display: flex;
				flex-direction: column;
				min-block-size: 100vh;
				margin: 0;
			}

			.container-fluid {
				flex: 1;
			}

			.header {
				background-color: #42f5b9;
				color: blue;
				padding: 20px;
				border-radius: 5px;
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
				display: flex;
				align-items: center;
				justify-content: space-between;
				gap: 15px;
			}

			.header-logo {
				inline-size: 60px;
				block-size: 60px;
				margin-inline-end: 20px;
			}

			.header-content {
				flex: 1;
				text-align: center;
			}

			footer {
				background-color: #f8f9fa;
				block-size: 60px;
				line-height: 60px;
				text-align: center;
				font-size: 14px;
				color: #6c757d;
			}

			footer a {
				text-decoration: none;
				color: #007bff;
			}

			footer a:hover {
				color: #0056b3;
				text-decoration: underline;
			}

			.chart-container {
				margin-block-end: 20px;
				text-align: center;
			}

			.chart-container iframe {
				border: none;
				inline-size: 100%;
				max-inline-size: 600px;
				block-size: 400px;
				border-radius: 5px;
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
			}
			.chart-container iframe.progress-chart {
				display: block;
				margin: 0 auto;
				border: none;
				inline-size: 100%;
				max-inline-size: 1004px;
				block-size: 224px;
			}

			.table-responsive {
				overflow-x: auto;
			}

			/* Tabel Styling */
			.table th {
				background: #09d5cf;
				color: white;
				text-align: center !important; /* Teks akan diatur di tengah secara horizontal */
				vertical-align: middle !important; /* Teks diatur di tengah secara vertikal */
				padding: 10px; /* Opsional: Beri padding untuk estetika */
				font-weight: bold; /* Opsional: Tegaskan teks untuk header */
			}
			.table-striped tbody tr:nth-of-type(odd) {
				background-color: #ad63de !important; /* Warna baris ganjil */
			}

			.table-striped tbody tr:nth-of-type(even) {
				background-color: #2be2e2 !important ; /* Warna baris genap */
			}

			/* .table-striped tbody tr:nth-of-type(odd) {
				background-color: #ad63de;
			}

			.table-striped tbody tr:nth-of-type(even) {
				background-color: #2be2e2;
			} */

			.table-striped tbody tr:hover {
				background-color: #d0ebff;
			}

			.table td {
				vertical-align: middle;
			}

			/* Responsive header adjustments */
			@media (max-inline-size: 768px) {
				.header {
					flex-direction: column;
					padding: 10px;
					text-align: center;
				}

				.header-logo {
					inline-size: 50px;
					block-size: 50px;
				}

				.header-content h1 {
					font-size: 1.5rem;
				}

				.header-content p {
					font-size: 0.9rem;
				}
			}
		</style>
	</head>
	<body>
		<div class="container-fluid d-flex flex-column">
			<header class="header mb-4">
				<img src="logo-left.png" alt="Logo Kiri" class="header-logo" />
				<div class="header-content">
					<h1 class="mb-1">Hasil Seleksi PPDB</h1>
					<p class="mb-0">Pengumuman Seleksi PPDB SD Al Mujahidin Wonosari Tahun Pelajaran 2025/2026</p>
				</div>
				<img src="logo-right.png" alt="Logo Kanan" class="header-logo" />
			</header>
			<div class="row mb-3">
					<div class="col-12 col-md-6 mb-2">
						<select id="filter-kelas" class="form-select" aria-label="Filter Kelas">
							<option value="" disabled selected>Pilih Kelas</option>
						</select>
					</div>
					<div class="col-12 col-md-6">
						<select id="filter-verval" class="form-select" aria-label="Filter Status Verifikasi">
							<option value="" disabled selected>Pilih Status Verifikasi</option>
						</select>
					</div>
				</div>

				<div id="loading" class="text-center my-4" style="display: none">
					<div class="spinner-border text-primary" role="status">
						<span class="visually-hidden">Loading...</span>
					</div>
				</div>

				<div class="table-responsive">
					<table id="example" class="table table-striped table-bordered"></table>
				</div>
			</div>
		</div>

		<footer>
			&copy; 2024 SD Al Mujahidin Wonosari |
			<a href="https://www.facebook.com" target="_blank">Facebook</a> | <a href="https://www.instagram.com" target="_blank">Instagram</a> |
			<a href="https://wa.me/6281802644454" target="_blank">WhatsApp</a>
		</footer>

		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
		<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
		<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
		<script>
			$(document).ready(function () {
				const table = $("#example").DataTable({
					ajax: {
						url: "https://script.google.com/macros/s/AKfycbz2yhCzekQvlDnMHUrBb0tRJIDgGbte3gS0gplfMv0vgSM4BJgR0mqBfqxZUphkZTQcoA/exec",
						error: function () {
							alert("Gagal memuat data. Mohon periksa koneksi Anda atau hubungi administrator.");
						},
					},
					columns: [
						{ title: "NO", data: "no" },
						{ title: "Nama", data: "nama" },
						{ title: "JK", data: "jk" },
            { title: "Asal TK", data: "asal" },
						{ title: "Hasil Seleksi", data: "keterangan" },
						{ title: "Status Daftar Ulang", data: "daftar_ulang" },
					],
					initComplete: function () {
						const kelasSet = new Set();
						const vervalSet = new Set();

						table
							.column(1)
							.data()
							.each((nama) => namaSet.add(nama));
						table
							.column(4)
							.data()
							.each((asal) => vervalSet.add(asal));

						kelasSet.forEach((kelas) => {
							$("#filter-nama").append(`<option value="${nama}">${nama}</option>`);
						});

						vervalSet.forEach((verval) => {
							$("#filter-asal").append(`<option value="${asal}">${asal}</option>`);
						});
					},
				});

				$("#example").on("processing.dt", function (e, settings, processing) {
					$("#loading").css("display", processing ? "block" : "none");
				});

				$("#filter-kelas").on("change", function () {
					table.column(1).search(this.value).draw();
				});

				$("#filter-verval").on("change", function () {
					table.column(4).search(this.value).draw();
				});

				setInterval(() => table.ajax.reload(null, false), 60000);
			});
		</script>
	</body>
</html>
